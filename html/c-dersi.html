<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.22.2: https://docutils.sourceforge.io/" />
<title>C Dersi</title>
<link rel="stylesheet" href="main.css" />
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
<body>
<div class="document" id="c-dersi">
<h1 class="title">C Dersi</h1>

<p>Bu derste C programlama dersi anlatılacaktır.
Bu dersin düzgünce anlaşılabilmesi için temel düzey gnu/linux bilmeniz gerekmektedir.</p>
<div class="section" id="derleme-islemi">
<h1>Derleme işlemi</h1>
<p><strong>C</strong> derlemeli bir programlama dilidir.
Yani yazılan kodun derleneek bilgisayarın anlayacağı hale getirilmesi gerekmektedir.
Derleme işlemini <strong>gcc</strong> veya <strong>clang</strong> kullanarak yapabiliriz.</p>
<pre class="code shell literal-block">
<span class="comment single"># koddan .o dosyası üretelim
</span>$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-c<span class="whitespace"> </span>main.c<span class="whitespace">
</span><span class="comment single"># .o dosyasından derlenmiş dosya üretelim.
</span>$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-o<span class="whitespace"> </span>main<span class="whitespace"> </span>main.o<span class="whitespace">
</span><span class="comment single"># kodu çalıştıralım
</span>$<span class="whitespace"> </span>./main<span class="whitespace">
</span>-&gt;<span class="whitespace"> </span>Hello<span class="whitespace"> </span>World
</pre>
<p>Yukarıdaki örnekte öncelikle <strong>.o</strong> uzantılı object dosyamızı ürettik.
Bu dosya kodun derlenmiş fakat henüz kullanıma hazır hale getirilmemiş halidir.
Bu sebeple <strong>.o</strong> dosyalarını linkleme işleminden geçirerek son halini almasını sağlamalıyız.</p>
<p><strong>Not:</strong> derleyicimiz <strong>.o</strong> üretmeden de doğrudan derleme yapabilir.</p>
<pre class="code shell literal-block">
$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-o<span class="whitespace"> </span>main<span class="whitespace"> </span>main.c
</pre>
</div>
<div class="section" id="aciklama-satiri">
<h1>Açıklama satırı</h1>
<p>C kodlarında 3 farklı yolla girintileme yapılabilir.</p>
<ol class="arabic simple">
<li><strong>//</strong> kullanarak satırın geri kalanını açıklama satırı yapabiliriz.</li>
</ol>
<pre class="code C literal-block">
<span class="comment single">// bu bir açıklama satırıdır.</span>
</pre>
<ol class="arabic simple" start="2">
<li><strong>/*</strong> ile başlayıp <strong>*/</strong> ile biten alanlar açıklamadır.</li>
</ol>
<pre class="code C literal-block">
<span class="comment multiline">/* Bu
   bir
   açıklama
   satırıdır */</span>
</pre>
<ol class="arabic simple" start="3">
<li><strong>#if 0</strong> ile başlayan satırdan <strong>#endif</strong> satırına kadar olan kısım açıklama satırıdır.</li>
</ol>
<pre class="code C literal-block">
<span class="comment preproc">#if 0</span><span class="comment">
bu bir
açıklama
satırıdır
</span><span class="comment preproc">#endif</span>
</pre>
</div>
<div class="section" id="girintileme">
<h1>Girintileme</h1>
<p>C programlama dilinde blocklar <strong>{}</strong> karakterleri ile belirtilir.
Kodun okunalı olması için girintilenmesi gereklidir fakat şart değildir.
Girintileme için 4 boşluk veya 1 tab kullanabilirsiniz.</p>
<p>Bir block aşağdaki gibi bir yapıya sahiptir.</p>
<pre class="code C literal-block">
<span class="name">aaaa</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">bbbb</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
        </span><span class="name">cccc</span><span class="punctuation">;</span><span class="whitespace">
  </span><span class="name">ddd</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p><strong>Not:</strong> Her satırın sonunda ; işareti bulunmalıdır.</p>
</div>
<div class="section" id="ilk-program">
<h1>İlk program</h1>
<p>C programları çalıştırıldığında <strong>main</strong> fonsiyonu çalıştırılır.
Aşağıda örnek main fonksiyonu bulunmaktadır.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">argc</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">**</span><span class="whitespace"> </span><span class="name">argv</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<ul class="simple">
<li><strong>int main</strong> kısmında  int döndürülecek değer türü main adıdır.</li>
<li><strong>int argc</strong> parametre sayısını belirtir.</li>
<li><strong>char **argv</strong> parametre listesini belirtir.</li>
<li><strong>return 0</strong> komutu 0 ile çıkış yapar.</li>
</ul>
<p>Burada <strong>main</strong> fonksiyonunu türünün bir önemi yoktur. <strong>void</strong> olarak da tanımlanabilir. Ayrıca kullanmayacaksak arguman tanımlamaya da gerek yoktur. Kısaca Şu şekilde de yazabilirdik.</p>
<pre class="code C literal-block">
<span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){}</span>
</pre>
</div>
<div class="section" id="ekrana-yazi-yazma">
<h1>Ekrana yazı yazma</h1>
<p>Öncelikle <strong>stdio.h</strong> kütüphanesine ihtiyacimiz olduğu için onu eklemeliyiz.
Ardından <strong>printf</strong> fonksiyonu ile ekrana yazı yazabiliriz.</p>
<p><strong>printf</strong> fonksiyonunun 1. parametresi yazdirma şablonunu diğerleri ise yazdırılacak verileri belirtir.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdio.h&gt;</span><span class="comment preproc">
</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">argc</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">**</span><span class="whitespace"> </span><span class="name">argv</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Merhaba Dünya!&quot;</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<ul class="simple">
<li><strong>include</strong> ile belirttiğimiz dosyalar sistemde <strong>/usr/include</strong> içerisinde bulunur.</li>
<li><strong>printf</strong> fonksiyonundaki <strong>%s</strong> yazılar için, <strong>%c</strong> karakterler için, <strong>%d</strong> sayılar için kullanılır.</li>
</ul>
</div>
<div class="section" id="degiskenler">
<h1>Değişkenler</h1>
<p>C dilinde değişkenler aşağıdaki gibi tanımlanır.</p>
<pre class="code C literal-block">
<span class="punctuation">...</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">yazi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;test&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="name">karakter</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string char">'c'</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="keyword type">float</span><span class="whitespace"> </span><span class="name">sayi2</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number float">12.42</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">...</span>
</pre>
<p>Bununla birlikte <strong>#define</strong> kullanarak derlemeden önce koddaki alanların karşılığı ile değiştirilmesini sağlayabilirsiniz.
Bu şekilde tanımlanan değerler derlemeden önce yerine yazıldığı için değişken olarak işlem görmezler.</p>
<pre class="code C literal-block">
<span class="comment preproc">#define sayi 12
</span><span class="punctuation">...</span><span class="whitespace">
</span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="name">sayi</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">...</span>
</pre>
</div>
<div class="section" id="diziler">
<h1>Diziler</h1>
<p>Diziler iki şekilde tanımlanabilir.</p>
<p>1. Pointer kullanarak tanımlanabilir. Bu konunun detaylarına ilerleyen kısımda değinilecektir.
Bu şekilde tanımlanan dizilerde başta uzunluk belirtilmek zorunda değildir.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">dizi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal number integer">12</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">22</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">31</span><span class="punctuation">};</span>
</pre>
<ol class="arabic simple" start="2">
<li>Uzunluk belirterek tanımlanabilir. Bu şekilde tanımlanan dizilerin uzunluğu sabittir.</li>
</ol>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name">dizi</span><span class="punctuation">[</span><span class="literal number integer">3</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal number integer">12</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">22</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">31</span><span class="punctuation">};</span>
</pre>
<p>C dilinde string kavramı bulunmaz. Onun yerine karakter dizileri kullanılır.</p>
<pre class="code C literal-block">
<span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">txt</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;deneme123&quot;</span><span class="punctuation">;</span>
</pre>
<p>Dizinin bir elemanına erişmek için aşağıdaki gibi bir yol kullanılır.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">dizi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal number integer">12</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">22</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">31</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">c</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">dizi</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">];</span><span class="whitespace"> </span><span class="comment single">// dizinin 2. elemanı</span>
</pre>
<p><strong>Not:</strong> Dizi indisleri 0dan başlar.</p>
<p>Bir dizinin uzunluğunu dizinin bellekteki boyutunu birim boyutuna bölerek buluruz.
Bunun  için <strong>sizeof</strong> fonksiyonu kullanılır.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">dizi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="literal number integer">11</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">22</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">31</span><span class="punctuation">};</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="name">dizi</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">/</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">);</span>
</pre>
</div>
<div class="section" id="klavyeden-deger-alma">
<h1>Klavyeden değer alma</h1>
<p>Klavyeden değer almak için <strong>scanf</strong> kullanılır. İlk parameter şablonu diğerleri ise değişkenlerin bellek adresini belirtir.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="name">scanf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">sayi</span><span class="punctuation">);</span>
</pre>
<p><strong>Not:</strong> Bu şekilde değer alma yaptığımızda formata uygun olmayan şekilde değer girilebilir.
Eğer böyle bir durum oluşursa değişken <strong>NULL</strong> olarak atanır. yani değeri bulunmaz.
Buda kodun işleyişinde soruna yol açabilir. Bu yüzden değişkeni kullanmadan ince <strong>NULL</strong> olup olmadığını kontrol etmelisiniz.</p>
</div>
<div class="section" id="kosullar">
<h1>Koşullar</h1>
<p>Koşullar için <strong>if</strong> bloğu kullanılır. Block içindeki ifade <strong>0</strong> veya <strong>NULL</strong> olursa koşul sağlanmaz. Bu durumda varse <strong>else</strong> bloğu çalıştırılır.</p>
<pre class="code C literal-block">
<span class="keyword">if</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">koşul1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="name">block</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace"> </span><span class="keyword">else</span><span class="whitespace"> </span><span class="keyword">if</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">koşul2</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
  </span><span class="name">block</span><span class="whitespace"> </span><span class="literal number integer">2</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace"> </span><span class="keyword">else</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
  </span><span class="name">block</span><span class="whitespace"> </span><span class="literal number integer">3</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Örnek olarak girilen sayının çift olup olmadığını yazan uygulama yazalım.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdio.h&gt;</span><span class="comment preproc">
</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">argc</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">**</span><span class="whitespace"> </span><span class="name">argv</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">scanf</span><span class="punctuation">(</span><span class="literal string">&quot;%d&quot;</span><span class="punctuation">,</span><span class="operator">&amp;</span><span class="name">sayi</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword">if</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="name builtin">NULL</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
        </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Geçersiz sayı girdiniz.&quot;</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace"> </span><span class="keyword">else</span><span class="whitespace"> </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">%</span><span class="whitespace"> </span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
        </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d tektir.</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">sayi</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace"> </span><span class="keyword">else</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
        </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d çifttir.</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">sayi</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Burada <strong>%</strong> operatörü 2 ile bölümden kalanı bulmaya yarar.
Sayı tek ise 1 değilse 0 sonucu elde edilir.
Bu sayede tek sayılar için koşul sağlanır çift sayılar için sağlanmaz.</p>
<p>Tek satırdan oluşan koşullarda <strong>{}</strong> kullanmaya gerek yoktur.</p>
<pre class="code C literal-block">
<span class="keyword">if</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="literal number integer">32</span><span class="punctuation">)</span><span class="whitespace">
  </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;32den küçüktür&quot;</span><span class="punctuation">);</span>
</pre>
<p>Koşul ifadeleri aşağıdaki gibi listelenebilir.</p>
<table border="1" class="docutils">
<caption><strong>Koşul işleyicileri</strong></caption>
<colgroup>
<col width="20%" />
<col width="40%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">ifade</th>
<th class="head">anlamı</th>
<th class="head">örnek</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>&gt;</td>
<td>büyüktür</td>
<td>121 &gt; 12</td>
</tr>
<tr><td>&lt;</td>
<td>küçüktür</td>
<td>12 &lt; 121</td>
</tr>
<tr><td>==</td>
<td>birbirine eşittir</td>
<td>121 == 121</td>
</tr>
<tr><td>!</td>
<td>karşıtlık bildirir.</td>
<td>!(12 &gt; 121)</td>
</tr>
<tr><td>&amp;&amp;</td>
<td>logic and</td>
<td>&quot;fg&quot; == &quot;aa&quot; &amp;&amp; 121 &gt; 12</td>
</tr>
<tr><td>||</td>
<td>logic or</td>
<td>&quot;fg&quot; == &quot;aa&quot; || 121 &gt; 12</td>
</tr>
<tr><td>!=</td>
<td>eşit değildir</td>
<td>&quot;fg&quot; != &quot;aa&quot;</td>
</tr>
<tr><td>&gt;=</td>
<td>büyük eşittir</td>
<td>121 &gt;= 121</td>
</tr>
<tr><td>&lt;=</td>
<td>küçük eşittir</td>
<td>12 &lt;= 12</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="switch-case">
<h1>Switch - Case</h1>
<p>Bir sayıya karşılık bir işlem yapmak için <strong>switch - case</strong> yapısı kullanılır.</p>
<pre class="code C literal-block">
<span class="whitespace">      </span><span class="keyword">switch</span><span class="punctuation">(</span><span class="name">sayi</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
        </span><span class="literal number integer">1</span><span class="operator">:</span><span class="whitespace">
          </span><span class="comment single">// sayı 1se burası çalışır.
</span><span class="whitespace">          </span><span class="comment single">// break olmadığı için alttan devam eder.
</span><span class="whitespace">        </span><span class="literal number integer">2</span><span class="operator">:</span><span class="whitespace">
          </span><span class="comment single">// sayı 1 veya 2 ise burası çalışır.
</span><span class="whitespace">          </span><span class="keyword">break</span><span class="punctuation">;</span><span class="whitespace">
        </span><span class="literal number integer">3</span><span class="operator">:</span><span class="whitespace">
          </span><span class="comment single">// sayı 3 ise burası çalışır.
</span><span class="whitespace">        </span><span class="keyword">default</span><span class="operator">:</span><span class="whitespace">
          </span><span class="comment single">// sayı eşleşmezse burası çalışır.
</span><span class="punctuation">}</span>
</pre>
</div>
<div class="section" id="donguler">
<h1>Döngüler</h1>
<p>Döngüler koşullara benzer fakat döngülerde koşul sağlanmayana kadar block içi tekrarlanır.
Döngü oluşturmak için <strong>while</strong> kullanılır.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">10</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="keyword">while</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">&lt;</span><span class="literal number integer">0</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="name">i</span><span class="operator">--</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Yukarıdaki örnekte 10dan 0a kadar geri sayan örnek verilmiştir.
En son i değişkeni 0 olduğunda koşul sağlanmadığı için döngü sonlanır.</p>
<p>Aynı işlemi <strong>for</strong> ifadesi ile de yapabiliriz.</p>
<pre class="code C literal-block">
<span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">10</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">&lt;</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">i</span><span class="operator">--</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Burada for içerisinde 3 bölüm bulunur.
İlkinde değer atanır.
İkincinde koşul yer alır.
Üçüncüsünde değişkene yapılacak işlem belirtilir.</p>
<p>Döngülerde <strong>continue</strong> kullanarak döngünün tamamlanması beklenmeden başa dönülür.
<strong>break</strong> kullanarak döngüden çıkılır.</p>
<pre class="code C literal-block">
<span class="whitespace">      </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">10</span><span class="whitespace">
      </span><span class="keyword">while</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
          </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="name">sayi</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
              </span><span class="keyword">break</span><span class="punctuation">;</span><span class="whitespace">
          </span><span class="punctuation">}</span><span class="whitespace">
          </span><span class="name">sayi</span><span class="operator">--</span><span class="punctuation">;</span><span class="whitespace">
          </span><span class="keyword">continue</span><span class="punctuation">;</span><span class="whitespace">
          </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;Bu satıra gelinmez.&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Yukarıdaki örnekte döngü koşulu sürekli olarak devam etmeye neden olur.
Sayımız 0dan küçükse döngü <strong>break</strong> kullanarak sonlandırılır.
Döngü içinde <strong>continue</strong> kısmına gelindiğinde başa dönüldüğü için bir alttaki satır çalıştırılmaz.</p>
</div>
<div class="section" id="goto">
<h1>goto</h1>
<p>C dilinde kodun içerisindeki bir yere etiket tanımlanıp <strong>goto</strong> ile bu etikete gidilebilir.</p>
<pre class="code C literal-block">
<span class="name label">yaz</span><span class="punctuation">:</span><span class="whitespace">
</span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;Hello World&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="keyword">goto</span><span class="whitespace"> </span><span class="name">yaz</span><span class="punctuation">;</span>
</pre>
<p>Yukarıdaki örnekte sürekli olarak yazı yazdırılır. Bunun sebebi her seferinde <strong>yaz</strong> etiketine gidilmesidir.</p>
<p>Bundan faydalanarak döngü oluşturulabilir.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">10</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="name label">islem</span><span class="punctuation">:</span><span class="whitespace">
</span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="name">i</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="name">i</span><span class="operator">--</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="keyword">goto</span><span class="whitespace"> </span><span class="name">islem</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Burada koşul bloğunun en sonunda tekrar başa dönmesi için <strong>goto</strong> kullandık.</p>
</div>
<div class="section" id="fonksiyonlar">
<h1>Fonksiyonlar</h1>
<p>C dilinde bir fonksiyon aşağıdaki gibi tanımlanır.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">yazdir</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">yazi</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="keyword">if</span><span class="punctuation">(</span><span class="name">yazi</span><span class="whitespace"> </span><span class="operator">!=</span><span class="whitespace"> </span><span class="name builtin">NULL</span><span class="punctuation">){</span><span class="whitespace">
        </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="name">yazi</span><span class="punctuation">);</span><span class="whitespace">
        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Yukarıdaki fonksiyon verilen değişken değere sahipse ekrana yazdırıp 0 döndürür.
Eğer değeri yoksa 1 döndürür.</p>
<p>Basit işlemler için <strong>#define</strong> ile de fonksiyon tanımlanabilir.
Bu şekilde tanımlanan fonksiyonlar derleme öncesi yerine yazılarak çalışır.</p>
<pre class="code C literal-block">
<span class="comment preproc">#define topla(A,B) A+B
</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">argc</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">**</span><span class="whitespace"> </span><span class="name">argv</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">topla</span><span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">5</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Fonksiyonlar yazılma sırasına göre kullanılabilirler.
Bu yüzden fonksiyonlar henüz tanımlı değilse kullanılamazlar.
Bu durumun üstesinden gelmek için <strong>header</strong> tanımlaması yapılır.</p>
<pre class="code C literal-block">
<span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">yaz</span><span class="punctuation">();</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">yaz</span><span class="punctuation">();</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">yaz</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;Hello World&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Header tanımlamaları kütüphane yazarken de kullanılır.
Bunun için bu tanımlamaları <strong>.h</strong> uzantılı dosyalara yazmanız gereklidir.
Bu dosyayı <strong>include</strong> kullanarak eklemeliyiz.</p>
<p>yaz.h dosyası</p>
<pre class="code C literal-block">
<span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">yaz</span><span class="punctuation">();</span>
</pre>
<p>main.c dosyası</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&quot;yaz.h&quot;</span><span class="comment preproc">
#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdio.h&gt;</span><span class="comment preproc">
</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">yaz</span><span class="punctuation">();</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">yaz</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="literal string">&quot;Hello World&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p><strong>Not:</strong> <strong>include</strong> ifadesinde <strong>&lt;&gt;</strong> içine aldığımız dosyalar <strong>/usr/include</strong> <strong>&quot;&quot;</strong> içine aldığımız ise mevcut dizinde aranır.</p>
</div>
<div class="section" id="pointer-ve-address-kavrami">
<h1>Pointer ve Address kavramı</h1>
<p>Pointerlar bir değişkenin bellekte bulunduğu yeri belirtir. ve <strong>*</strong> işareti ile belirtir.
Örneğin aşağıda bir metin pointer olarak tanımlansın ve 2 birim kaydırılsın.</p>
<pre class="code C literal-block">
<span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">msg</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;abcde&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">msg</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">)</span><span class="operator">*</span><span class="literal number integer">2</span><span class="whitespace"> </span><span class="punctuation">);</span>
</pre>
<p>Bura 2 char uzunluğu kadar pointer kaydırıldığı için ekrana ilk iki karakteri silinerek yazdırılmıştır.</p>
<p>Adres ise bir değişkenin bellek adresini ifade eder. <strong>&amp;</strong> işareti ile belirtilir. Örneğin rastgele bir değişken oluşturup adresini ekrana yazalım.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%p</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">i</span><span class="punctuation">);</span>
</pre>
<p>Konunun daha iyi anlaşılması için bir değişken oluşturup adresini bir pointera kopyalayalım. ve sonra değişkenimizi değiştirelim.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// değişken tanımladık.
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">k</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// adresini kopyaladık.
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// değeri kopyaladık.
</span><span class="name">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">1</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// değişkeni değiştirdik.
</span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d %d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">k</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">);</span>
</pre>
<p>Bu örnekte ilk iki değer de değişir fakat üçüncüsü değişmez.
Bunun sebebi ikinci be birinci değişkenlerin adresi aynıyken üçüncü değişkenin adresi farklıdır.</p>
<p>Bir fonksiyon tanımlarken pointer olarak arguman aldırıp bu değerde değişiklik yapabilir. Buna örnek kullanım olarak <strong>scanf</strong> fonksiyonu verilebilir.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdio.h&gt;</span><span class="comment preproc">
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">topla</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">sonuc</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi2</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="operator">*</span><span class="name">sonuc</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">sayi1</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="name">sayi2</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">topla</span><span class="punctuation">(</span><span class="operator">&amp;</span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">22</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="name">i</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Burada fonksiyona değişkenin adresi girilir. Fonksiyon bu adrese toplamı yazar. Daha sonra değişkenimizi kullanabilirsiniz.</p>
<p>Fonksiyonun kendisini de pointer olarak kullanmak mümkündür. Bunun için aşağıdaki gibi bir yapı kullanılabilir.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">topla</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="operator">*</span><span class="name">topla_func</span><span class="punctuation">)(</span><span class="keyword type">int</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">topla</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">topla_func</span><span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">5</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Ayrıca <strong>typedef</strong> yapısı ile de fonksiyon pointerları oluşturulabilir.
Bu konunun detaylarına ilerleyen kısımlarda yer verilmiştir.</p>
<pre class="code C literal-block">
<span class="keyword">typedef</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="operator">*</span><span class="name">topla_func</span><span class="punctuation">)(</span><span class="keyword type">int</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">topla</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">i</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="name">j</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">topla_func</span><span class="whitespace"> </span><span class="name">topla_fn</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">topla</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">topla_fn</span><span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">5</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
</div>
<div class="section" id="dinamik-bellek-yonetimi">
<h1>Dinamik bellek yönetimi</h1>
<p>Dinamik bellek yönetimi için <strong>malloc</strong>, <strong>realloc</strong>, <strong>calloc</strong>, <strong>free</strong> fonksiyonları kullanılır.
Bu fonksiyonlar <strong>stdlib.h</strong> ile sağlanmaktadır.</p>
<p><strong>malloc</strong> fonksiyonu belirtilen boyut kadar boş alanı <strong>void*</strong> olarak tahsis eder.</p>
<pre class="code C literal-block">
<span class="comment single">// 10 elemanlı sayı dizisi oluşturmak için.
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">sayilar</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">int</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">malloc</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="comment single">// şununla aynı anlama gelir.
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayilar</span><span class="punctuation">[</span><span class="literal number integer">10</span><span class="punctuation">];</span>
</pre>
<p><strong>calloc</strong> fonksiyonu malloc ile benzerdir fakat istenen block boyutunu da belirterek kullanılır.</p>
<pre class="code C literal-block">
<span class="comment single">// 10 elemanlı sayı dizisi oluşturmak için
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">sayilar</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">int</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">calloc</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace">
</span><span class="comment single">// şununla aynı anlama gelir
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">sayilar</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">int</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">malloc</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="whitespace"> </span><span class="operator">*</span><span class="whitespace"> </span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span>
</pre>
<p><strong>realloc</strong> bir değişkenin yeniden boyutlandırılmasını sağlar.</p>
<pre class="code C literal-block">
<span class="comment single">// 5 elemanlı dizi tanımlayalım.
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayilar</span><span class="punctuation">[</span><span class="literal number integer">5</span><span class="punctuation">];</span><span class="whitespace">
</span><span class="comment single">// boyutu 10 yapalım
</span><span class="name">sayilar</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">int</span><span class="operator">*</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">realloc</span><span class="punctuation">(</span><span class="name">sayilar</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">10</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span>
</pre>
<p><strong>free</strong> fonksiyonu değişkeni bellekten siler.</p>
<pre class="code C literal-block">
<span class="comment single">// malloc ile bir alan tanımlayalım.
</span><span class="keyword type">void</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">alan</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">malloc</span><span class="punctuation">(</span><span class="literal number integer">100</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="comment single">// bu alanı silelim.
</span><span class="name">free</span><span class="punctuation">(</span><span class="name">alan</span><span class="punctuation">);</span>
</pre>
<p>Konunun daha iyi anlaşılması için 2 stringi toplayan fonksiyon yazalım.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdlib.h&gt;</span><span class="comment preproc">
#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdio.h&gt;</span><span class="comment preproc">
#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;string.h&gt;</span><span class="comment preproc">
</span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name function">add</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s1</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">s2</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">ss</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">s1</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ilk arguman uzunluğu
</span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sx</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">strlen</span><span class="punctuation">(</span><span class="name">s2</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// ikinci arguman uzunluğu
</span><span class="whitespace">    </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">s3</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">)</span><span class="name">malloc</span><span class="punctuation">(</span><span class="name">ss</span><span class="operator">+</span><span class="name">sx</span><span class="operator">*</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="punctuation">));</span><span class="whitespace"> </span><span class="comment single">// uzunluklar toplamı kadar alan ayır.
</span><span class="whitespace">    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s1</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="comment single">// ilkinin tüm elemanlarını kopyala
</span><span class="whitespace">        </span><span class="name">s3</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">s1</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace">
    </span><span class="keyword">for</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">i</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="name">s2</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="name">i</span><span class="operator">++</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="comment single">// ikincinin tüm elemanlarını kopyala
</span><span class="whitespace">        </span><span class="name">s3</span><span class="punctuation">[</span><span class="name">i</span><span class="operator">+</span><span class="name">ss</span><span class="punctuation">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">s2</span><span class="punctuation">[</span><span class="name">i</span><span class="punctuation">];</span><span class="whitespace">
    </span><span class="name">s3</span><span class="punctuation">[</span><span class="name">ss</span><span class="operator">+</span><span class="name">sx</span><span class="punctuation">]</span><span class="operator">=</span><span class="literal string char">'\0'</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// stringler '\0' ile sonlanır
</span><span class="whitespace">    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">s3</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="keyword type">char</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">new_str</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">add</span><span class="punctuation">(</span><span class="whitespace"> </span><span class="literal string">&quot;hello&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal string">&quot;world&quot;</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="name">new_str</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Bellek yönetimi iki ana kısımda olur:</p>
<ol class="arabic simple">
<li>Stack (Yığın): Derleyicinin otomatik olarak yönettiği bellek alanı.</li>
<li>Heap (Öbek): Programcı tarafından yönetilen bellek alanı.</li>
</ol>
<p>Bu iki bellek alanını kullanarak bir program yazalım.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;stdio.h&gt;</span><span class="comment preproc">
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">()</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// stack'de yer ayırır ve değer atar.
</span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">b</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">malloc</span><span class="punctuation">(</span><span class="keyword">sizeof</span><span class="punctuation">(</span><span class="keyword type">int</span><span class="punctuation">));</span><span class="whitespace"> </span><span class="comment single">// öbek'ten bellek ayırır. Değer atanmamış.
</span><span class="whitespace">    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">c</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">b</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="operator">&amp;</span><span class="name">a</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// pointer artık işaret ettiği adres değişmiş oluyor.
</span><span class="whitespace">    </span><span class="name">scanf</span><span class="punctuation">(</span><span class="literal string">&quot;%d&quot;</span><span class="punctuation">,</span><span class="name">b</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;Değer: %d</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="operator">*</span><span class="name">b</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Stack belleği derleyici tarafından otomatik olarak serbest bırakılır. Heap bellekleri için de serbest bırakmak gereklidir.</p>
</div>
<div class="section" id="struct">
<h1>Struct</h1>
<p><strong>Structure</strong> yapıları bellekte belli bir değişken topluluğu oluşturup kullanabilmek için kullanılır.
Bu yapılar sayesinde kendi veri türlerinizi tanımlayabilirsiniz.</p>
<pre class="code C literal-block">
<span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">test</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">num</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">};</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">test</span><span class="whitespace"> </span><span class="name">t1</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">t1</span><span class="punctuation">.</span><span class="name">num</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">t1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;hello&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Veri türü adına alias tanımlamak için <strong>typedef</strong> kullanılabilir.
Bu sayede değişken tanımlar gibi tanımlama yapmak mümkündür.</p>
<pre class="code C literal-block">
<span class="keyword">typedef</span><span class="whitespace"> </span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">Test</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">num</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">name</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace"> </span><span class="name">test</span><span class="punctuation">;</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">test</span><span class="whitespace"> </span><span class="name">t1</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">t1</span><span class="punctuation">.</span><span class="name">num</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">t1</span><span class="punctuation">.</span><span class="name">name</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;hello&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p><strong>typedef</strong> kullanarak struct dışında değişken türü tanımlamak da mümkündür.</p>
<pre class="code C literal-block">
<span class="keyword">typedef</span><span class="whitespace"> </span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">my_string</span><span class="punctuation">;</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">my_string</span><span class="whitespace"> </span><span class="name">str</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal string">&quot;Hello World&quot;</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>C programlama dili nesne yönelimli bir dil değildir.
Bu yüzden sınıf kavramı bulunmaz.
Fakat <strong>struct</strong> kullanarak benzer işler yapılabilir.
Bunun için fonksiyon pointeri tanımlayıp struct yapımıza ekleyelim. Bir init fonksiyonu kullanarak nesnemizi oluşturalım.</p>
<pre class="code C literal-block">
<span class="comment single">// nesne struct yapısı tanımladık
</span><span class="keyword">typedef</span><span class="whitespace"> </span><span class="keyword">struct</span><span class="whitespace"> </span><span class="name class">Test</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="comment single">// nesne fonksiyonunu tanımladık.
</span><span class="whitespace">    </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="operator">*</span><span class="name">yazdir</span><span class="punctuation">)(</span><span class="keyword type">char</span><span class="operator">*</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">num</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace"> </span><span class="name">test</span><span class="punctuation">;</span><span class="whitespace">

</span><span class="comment single">// nesne fonksiyon işlevin tanımladık
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">test_yazdir</span><span class="punctuation">(</span><span class="keyword type">char</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">msg</span><span class="punctuation">){</span><span class="whitespace">
    </span><span class="name">printf</span><span class="punctuation">(</span><span class="literal string">&quot;%s</span><span class="literal string escape">\n</span><span class="literal string">&quot;</span><span class="punctuation">,</span><span class="name">msg</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">

</span><span class="comment single">// nesneyi oluşturan fonsiyonu tanımladık.
</span><span class="name">test</span><span class="whitespace"> </span><span class="name function">test_init</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">test</span><span class="whitespace"> </span><span class="name">t1</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">t1</span><span class="punctuation">.</span><span class="name">num</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="literal number integer">12</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="name">t1</span><span class="punctuation">.</span><span class="name">yazdir</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">test_yazdir</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">t1</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span><span class="whitespace">

</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">test</span><span class="whitespace"> </span><span class="name">obj</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">test_init</span><span class="punctuation">();</span><span class="whitespace">
    </span><span class="name">obj</span><span class="punctuation">.</span><span class="name">yazdir</span><span class="punctuation">(</span><span class="literal string">&quot;Hello World&quot;</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
</div>
<div class="section" id="kutuphane-dosyasi-olusturma">
<h1>Kütüphane dosyası oluşturma</h1>
<p>Kütüphaneler ana kaynak kodun kullandığı yardımcı kodları barındırır.
Bu sayede her uygulama için tek tek aynı şeyleri yazmak yerine tek bir kütüphaneden yararlanılabilir.</p>
<p>GNU/Linux ortamında kütüphaneler <strong>.so</strong> uzantılıdır ve <strong>/lib</strong> ve <strong>/usr/lib</strong> dizinlerinde bulunur.</p>
<p><strong>Not:</strong> Ek kütüphane dizinlerini <strong>/etc/ld.so.conf</strong> ve <strong>/etc/lo.so.conf.d/*</strong> dosyalarında belirlenir.
Bunula birlikte <strong>LD_LIBRARY_PATH</strong> çevresel değişkeni ile kütüphane dizini tanımı yapılabilir.</p>
<p>Bir dosyanın bağımlı olduğu kütüphaneleri <strong>ldd</strong> komutu ile görüntüleyebiliriz.</p>
<pre class="code shell literal-block">
$<span class="whitespace"> </span>ldd<span class="whitespace"> </span>/bin/bash<span class="whitespace">
    </span>/lib/ld-musl-x86_64.so.1<span class="whitespace"> </span><span class="operator">(</span>0x7fd299f6d000<span class="operator">)</span><span class="whitespace">
    </span>libreadline.so.8<span class="whitespace"> </span><span class="operator">=</span>&gt;<span class="whitespace"> </span>/usr/lib/libreadline.so.8<span class="whitespace"> </span><span class="operator">(</span>0x7fd299e5e000<span class="operator">)</span><span class="whitespace">
    </span>libc.musl-x86_64.so.1<span class="whitespace"> </span><span class="operator">=</span>&gt;<span class="whitespace"> </span>/lib/ld-musl-x86_64.so.1<span class="whitespace"> </span><span class="operator">(</span>0x7fd299f6d000<span class="operator">)</span><span class="whitespace">
    </span>libncursesw.so.6<span class="whitespace"> </span><span class="operator">=</span>&gt;<span class="whitespace"> </span>/usr/lib/libncursesw.so.6<span class="whitespace"> </span><span class="operator">(</span>0x7fd299e0a000<span class="operator">)</span>
</pre>
<p>Kendi kütüphanemizi olşturmak için kaynak kodumuzu <strong>-shared</strong> parametresi ile derlememiz gerekmektedir.
Bunu için örneğin aşağıdaki gibi bir kaynak kodumuz olsun.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">topla</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">b</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">a</span><span class="operator">+</span><span class="name">b</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Bu kodu derleyelim.</p>
<pre class="code shell literal-block">
$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-c<span class="whitespace"> </span>test.c<span class="whitespace">
</span>$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-o<span class="whitespace"> </span>libtest.so<span class="whitespace"> </span>test.o<span class="whitespace"> </span>-shared
</pre>
<p>Şimdi de bu kütüphaneyi kullanabilmek için <strong>test.h</strong> dosyamızı oluşturalım.</p>
<pre class="code C literal-block">
<span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">topla</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">a</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">b</span><span class="punctuation">);</span>
</pre>
<p>Son olarak kütüphaneyi kullanan kodumuzu yazalım.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;test.h&gt;</span><span class="comment preproc">
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">sayi</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">topla</span><span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="literal number integer">5</span><span class="punctuation">);</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Dikkat ettiyseniz <strong>include</strong> kullanırken <strong>&quot;&quot;</strong> işareti yerine <strong>&lt;&gt;</strong> kullandık. Bunun sebebi kütüphanelerin kaynak koddan bağımsız olacak şekilde tasarlanmasıdır.
Header dosyamızın <strong>/usr/include</strong> içinde ve kutuphanemizin de <strong>/usr/lib</strong> içinde olduğunu varsayarak kodladık.</p>
<p>Kütüphanemizin <strong>kutuphane</strong> adındaki bir dizinde bulunduğunu düşünelim ve aşağıdaki gibi derlemeyi tamamlayalım.</p>
<pre class="code shell literal-block">
$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-c<span class="whitespace"> </span>main.c<span class="whitespace"> </span>-I<span class="whitespace"> </span>./kutuphane<span class="whitespace">
</span>$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-o<span class="whitespace"> </span>main<span class="whitespace"> </span>main.o<span class="whitespace"> </span>-L<span class="whitespace"> </span>./kutuphane<span class="whitespace"> </span>-ltest
</pre>
<p>Kodu kütüphaneyi sisteme yüklemeden derleyebilmemiz için derleyicimize <strong>-I</strong> parametresi eklenir. Bu parametre header aradığı dizinlere belirtilen dizini de ekler.
Benzer şekilde derlemenin <strong>linkleme</strong> aşamasında <strong>-l</strong> parametresi ile hangi kütüphanelere ihtiyaç duyulduğu belirtilir.
<strong>-L</strong> parametresi ile kütüphanenin aranacağı dizinler listesine belirtilen dizin eklenir.</p>
<p>Gördüğünüz gibi bu parametreler sisteme göre değişiklik gösterebilmektedir. Bu karmaşanın önüne geçebilmek için <strong>pkg-config</strong> kullanılır.
Bu dosyada belirtilen değerler kütüphane ile beraber gelmekte olup derlemeye nelerin ekleneceğini belirtir.</p>
<p>Örnek olarak aşağıdaki gibi kullanabiliriz.</p>
<pre class="code shell literal-block">
<span class="comment single"># derleme parametreleri
</span>$<span class="whitespace"> </span>pkg-config<span class="whitespace"> </span>--cflags<span class="whitespace"> </span>readline<span class="whitespace">
  </span>-DNCURSES_WIDECHAR<span class="whitespace">
</span><span class="comment single"># linkleme parametreleri
</span>$<span class="whitespace"> </span>pkg-config<span class="whitespace"> </span>--libs<span class="whitespace"> </span>readline<span class="whitespace">
  </span>-lreadline
</pre>
<p>Kaynak kodu derlerken aşağıdaki gibi kullanılabilir.</p>
<pre class="code shell literal-block">
$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-c<span class="whitespace"> </span>main.c<span class="whitespace"> </span><span class="literal string backtick">`</span>pkg-config<span class="whitespace"> </span>--cflags<span class="whitespace"> </span>readline<span class="literal string backtick">`</span><span class="whitespace">
</span>$<span class="whitespace"> </span>gcc<span class="whitespace"> </span>-o<span class="whitespace"> </span>main<span class="whitespace"> </span>main.o<span class="whitespace"> </span><span class="literal string backtick">`</span>pkg-config<span class="whitespace"> </span>--libs<span class="whitespace"> </span>readline<span class="literal string backtick">`</span>
</pre>
<p><strong>pkg-config</strong> dosyaları <strong>.pc</strong> uzantılıdır ve <strong>/usr/lib/pkgconfig</strong> içinde bulunur.
<strong>pkg-config</strong> dosyaları aşağıdaki formata benzer şekilde yazılır.</p>
<pre class="code C literal-block">
<span class="name">prefix</span><span class="operator">=/</span><span class="name">usr</span><span class="whitespace">
</span><span class="name">includedir</span><span class="operator">=</span><span class="name">$</span><span class="punctuation">{</span><span class="name">prefix</span><span class="punctuation">}</span><span class="operator">/</span><span class="name">include</span><span class="whitespace">

</span><span class="name label">Name</span><span class="punctuation">:</span><span class="whitespace"> </span><span class="name">Test</span><span class="whitespace">
</span><span class="name label">Description</span><span class="punctuation">:</span><span class="whitespace"> </span><span class="name">Test</span><span class="whitespace"> </span><span class="name">library</span><span class="whitespace">
</span><span class="name label">Version</span><span class="punctuation">:</span><span class="whitespace"> </span><span class="literal number float">1.0</span><span class="whitespace">
</span><span class="name label">Requires</span><span class="punctuation">:</span><span class="whitespace"> </span><span class="name">readline</span><span class="whitespace">
</span><span class="name label">Cflags</span><span class="punctuation">:</span><span class="whitespace"> </span><span class="operator">-</span><span class="name">I</span><span class="punctuation">{</span><span class="name">includedir</span><span class="punctuation">}</span><span class="operator">/</span><span class="name">test</span><span class="whitespace">
</span><span class="name label">Libs</span><span class="punctuation">:</span><span class="whitespace"> </span><span class="operator">-</span><span class="name">ltest</span><span class="whitespace"> </span><span class="operator">-</span><span class="name">L</span><span class="punctuation">{</span><span class="name">libdir</span><span class="punctuation">}</span><span class="operator">/</span><span class="name">test</span>
</pre>
<p>Yukarıdaki örnekte <strong>/usr/include/test/</strong> içerisindeki header dosyamızı ve <strong>/usr/lib/test/</strong> içindeki kütüphane dosyamızı sorunsuzca kullanarak derleme yapabilik.</p>
</div>
<div class="section" id="c-kodunu-c-ile-kullanma">
<h1>C++ kodunu C ile kullanma</h1>
<p>Aşağıdaki gibi bir C++ kodumuz olsun.</p>
<pre class="code C literal-block">
<span class="name">class</span><span class="whitespace"> </span><span class="name">test</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="name">private</span><span class="operator">:</span><span class="whitespace">
    </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">value</span><span class="punctuation">;</span><span class="whitespace">

</span><span class="name">public</span><span class="operator">:</span><span class="whitespace">
    </span><span class="name">test</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
        </span><span class="name">value</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Bu kodu C ile kullanmak için öncelikle aşağıdaki gibi header dosyamızı oluşturalım.</p>
<pre class="code C literal-block">
<span class="comment preproc">#ifdef __cplusplus
</span><span class="keyword">extern</span><span class="whitespace"> </span><span class="literal string">&quot;C&quot;</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
</span><span class="comment preproc">#endif
</span><span class="whitespace">
</span><span class="keyword">typedef</span><span class="whitespace"> </span><span class="keyword type">void</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">test</span><span class="punctuation">;</span><span class="whitespace"> </span><span class="comment single">// class tanımı
</span><span class="whitespace">
</span><span class="name">test</span><span class="whitespace"> </span><span class="name function">test_new</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// class oluşturmak için
</span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">test_set_value</span><span class="punctuation">(</span><span class="name">test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">ctx</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// class içindeki değeri ayarlamak için
</span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name function">test_get_value</span><span class="punctuation">(</span><span class="name">test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">ctx</span><span class="punctuation">);</span><span class="whitespace"> </span><span class="comment single">// class içindeki değeri okumak için
</span><span class="whitespace">
</span><span class="comment preproc">#ifdef __cplusplus
</span><span class="punctuation">}</span><span class="whitespace">
</span><span class="comment preproc">#endif</span>
</pre>
<p>Şimdi de bir C++ kodu yazalım ve yukarıdaki fonksiyonları oluşturalım.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;test&gt;</span><span class="comment preproc">
</span><span class="keyword">extern</span><span class="whitespace"> </span><span class="literal string">&quot;C&quot;</span><span class="whitespace"> </span><span class="punctuation">{</span><span class="whitespace">
    </span><span class="name">test</span><span class="whitespace"> </span><span class="name function">test_new</span><span class="punctuation">(</span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">){</span><span class="whitespace">
        </span><span class="name">Test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">t</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">new</span><span class="whitespace"> </span><span class="name">Test</span><span class="punctuation">(</span><span class="name">l</span><span class="punctuation">);</span><span class="whitespace">
        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">test</span><span class="punctuation">)</span><span class="whitespace"> </span><span class="name">t</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace">

    </span><span class="keyword type">void</span><span class="whitespace"> </span><span class="name function">test_set_value</span><span class="punctuation">(</span><span class="name">test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">ctx</span><span class="punctuation">,</span><span class="whitespace"> </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">){</span><span class="whitespace">
        </span><span class="name">Test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">t</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">Test</span><span class="operator">*</span><span class="punctuation">)</span><span class="name">ctx</span><span class="punctuation">;</span><span class="whitespace">
        </span><span class="name">t</span><span class="operator">-&gt;</span><span class="name">value</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">l</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace">
    </span><span class="keyword type">double</span><span class="whitespace"> </span><span class="name function">test_get_value</span><span class="punctuation">(</span><span class="name">test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">ctx</span><span class="punctuation">){</span><span class="whitespace">
        </span><span class="name">Test</span><span class="operator">*</span><span class="whitespace"> </span><span class="name">t</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="punctuation">(</span><span class="name">Test</span><span class="operator">*</span><span class="punctuation">)</span><span class="name">ctx</span><span class="punctuation">;</span><span class="whitespace">
        </span><span class="keyword">return</span><span class="whitespace"> </span><span class="name">t</span><span class="operator">-&gt;</span><span class="name">value</span><span class="punctuation">;</span><span class="whitespace">
    </span><span class="punctuation">}</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Şimdi bu kodu kütüphane haline getirelim.</p>
<pre class="code shell literal-block">
g++<span class="whitespace"> </span>-o<span class="whitespace"> </span>libtest.so<span class="whitespace"> </span>test.cpp<span class="whitespace"> </span>-I.<span class="whitespace"> </span>-shared
</pre>
<p>Şimdi örnek C kodumuz aşağıdaki gibi  olabilir.</p>
<pre class="code C literal-block">
<span class="comment preproc">#include</span><span class="whitespace"> </span><span class="comment preprocfile">&lt;test.h&gt;</span><span class="comment preproc">
</span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name function">main</span><span class="punctuation">(){</span><span class="whitespace">
    </span><span class="name">test</span><span class="whitespace"> </span><span class="operator">*</span><span class="name">t</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">test_new</span><span class="punctuation">(</span><span class="literal number integer">22</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="name">test_set_value</span><span class="punctuation">(</span><span class="name">t</span><span class="punctuation">,</span><span class="literal number integer">12</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword type">int</span><span class="whitespace"> </span><span class="name">l</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="name">test_get_value</span><span class="punctuation">(</span><span class="name">t</span><span class="punctuation">);</span><span class="whitespace">
    </span><span class="keyword">return</span><span class="whitespace"> </span><span class="literal number integer">0</span><span class="punctuation">;</span><span class="whitespace">
</span><span class="punctuation">}</span>
</pre>
<p>Bu kodu aşağıdaki gibi derleyebiliriz.</p>
<pre class="code shell literal-block">
gcc<span class="whitespace"> </span>main.c<span class="whitespace"> </span>-o<span class="whitespace"> </span>main<span class="whitespace"> </span>-ltest<span class="whitespace"> </span>-L.<span class="whitespace"> </span>-I.
</pre>
<p>Yada kütüphane olşturmaya gerek kalmadan da derleyebiliriz.</p>
<pre class="code shell literal-block">
g++<span class="whitespace"> </span>test.cpp<span class="whitespace"> </span>-c<span class="whitespace"> </span>-o<span class="whitespace"> </span>test.o<span class="whitespace">
</span>gcc<span class="whitespace"> </span>-c<span class="whitespace"> </span>main.c<span class="whitespace"> </span>-o<span class="whitespace"> </span>main.o<span class="whitespace">
</span>gcc<span class="whitespace"> </span>tast.o<span class="whitespace"> </span>main.o<span class="whitespace"> </span>-o<span class="whitespace"> </span>main<span class="whitespace"> </span>-lstdc++
</pre>
<p>Burada libstdc++ C++ kodunun bağımlılığıdır.</p>
</div>
</div>
</body>
</html>
